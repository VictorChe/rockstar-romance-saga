# Suno без Lovable Cloud (бесплатный вариант)

**Если деплоите весь проект на Vercel** — используйте [DEPLOY_VERCEL.md](DEPLOY_VERCEL.md): один деплой, ключ только в Vercel, ничего дополнительно настраивать не нужно.

Ниже — вариант, когда **фронт хостится отдельно** (например, Lovable), а API только на Vercel.

## Шаг 1. Деплой API на Vercel

1. Зайдите на [vercel.com](https://vercel.com), войдите через GitHub.
2. **Add New** → **Project** → выберите репозиторий **rockstar-romance-saga** (или импортируйте его).
3. Оставьте настройки по умолчанию, нажмите **Deploy**.
4. После деплоя откройте проект → **Settings** → **Environment Variables**.
5. Добавьте переменную:
   - **Name:** `SUNO_API_KEY`
   - **Value:** ваш ключ Suno ([sunoapi.org/api-key](https://sunoapi.org/api-key))
   - **Environment:** Production (и при желании Preview).
6. Сохраните и сделайте **Redeploy** (Deployments → ⋮ у последнего деплоя → Redeploy), чтобы подхватить переменную.

Ключ хранится только в Vercel, в репозиторий он не попадает.

## Шаг 2. Указать URL прокси во фронте

Фронту нужно знать, куда слать запросы. Варианты:

### Вариант A: Lovable (или другой хостинг) с переменными окружения

Если при сборке/деплое фронта можно задать переменные:

- Имя: **`VITE_SUNO_PROXY_URL`**
- Значение: **URL вашего приложения на Vercel**, например  
  `https://rockstar-romance-saga.vercel.app`  
  (без слэша в конце).

Тогда при сборке подставится этот URL, и кнопка «Сгенерировать трек в Suno» будет вызывать ваш прокси на Vercel (где лежит ключ).

### Вариант B: Сборка из одного и того же репозитория на Vercel

Если и фронт, и API деплоятся из одного репо на Vercel:

- Фронт (Vite) деплоится как статика.
- Проки — папка `api/` → эндпоинты вида `https://ваш-проект.vercel.app/api/suno-generate`.

Тогда в **Environment Variables** проекта Vercel добавьте ещё одну переменную для сборки фронта:

- **Name:** `VITE_SUNO_PROXY_URL`  
- **Value:** `https://ваш-проект.vercel.app`  
(тот же домен, что и у деплоя, без слэша в конце).

После этого пересоберите и задеплойте проект — фронт будет знать URL прокси.

### Вариант C: Только локальный запуск

Локально в корне проекта создайте `.env` (не коммитьте):

```env
VITE_SUNO_PROXY_URL=https://ваш-проект.vercel.app
```

Или используйте прямой ключ в `.env`:

```env
VITE_SUNO_API_KEY=ваш_ключ_suno
```

(тогда запросы пойдут напрямую в Suno с вашего компьютера).

## Итог

| Где ключ        | Где не светится |
|-----------------|-----------------|
| Vercel → Environment Variables → `SUNO_API_KEY` | В GitHub, в коде, в браузере |

Фронт вызывает только ваш URL (`VITE_SUNO_PROXY_URL` + `/api/suno-generate`), ключ Suno остаётся на сервере Vercel.
